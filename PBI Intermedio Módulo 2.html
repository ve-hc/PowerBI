<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power BI Nivel Intermedio - M√≥dulo II: Gr√°ficos Avanzados y Personalizaci√≥n</title>
    <style>
        :root {
            --primary-color: #F2C811; /* Amarillo Power BI */
            --secondary-color: #2A2E30; /* Gris oscuro Power BI */
            --text-color: #333;
            --bg-color: #f8f9fa;
            --card-bg-color: #ffffff;
            --border-color: #dee2e6;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --code-font-family: 'Consolas', 'Courier New', Courier, monospace;
        }

        body {
            font-family: var(--font-family);
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: var(--secondary-color);
            color: white;
            padding: 1.5em 2em;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        header h1 {
            margin: 0;
            font-size: 2em;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        header h1 svg.powerbi-logo { /* Clase espec√≠fica para el logo de PBI */
            margin-right: 15px;
            width: 40px;
            height: 40px;
            fill: var(--primary-color);
        }

        nav {
            background-color: var(--card-bg-color);
            padding: 1em 0;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            overflow-x: auto; 
            white-space: nowrap; 
        }

        nav ul {
            list-style: none;
            padding: 0 1em; 
            margin: 0;
            display: flex;
            flex-wrap: nowrap; 
        }

        nav li {
            margin: 0.5em 0.6em; /* Espacio ligeramente reducido */
            flex-shrink: 0; 
        }

        nav a {
            text-decoration: none;
            color: var(--secondary-color);
            font-weight: bold;
            padding: 0.5em 1em;
            border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
            display: flex;
            align-items: center;
            font-size: 0.85em; /* Tama√±o de fuente ligeramente reducido */
        }
        
        nav a svg.nav-icon { /* Iconos de navegaci√≥n */
            width: 18px; 
            height: 18px;
            margin-right: 6px;
            fill: var(--secondary-color);
            transition: fill 0.3s;
        }

        nav a:hover, nav a.active-nav {
            background-color: var(--primary-color);
            color: var(--secondary-color);
        }
        
        nav a:hover svg.nav-icon, nav a.active-nav svg.nav-icon {
            fill: var(--secondary-color);
        }

        main {
            flex-grow: 1;
            padding: 2em;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
        }

        .pagina {
            display: none;
            background-color: var(--card-bg-color);
            padding: 2em;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s ease-in-out;
        }

        .pagina.activa {
            display: block;
        }
        
        #portada-mod2 { /* ID espec√≠fico para la portada del m√≥dulo 2 */
            text-align: center;
        }
        #portada-mod2 h2 {
            font-size: 2.5em;
            color: var(--secondary-color);
        }
        #portada-mod2 h3 {
            font-size: 1.8em;
            color: var(--primary-color);
            margin-top: 0.5em;
            margin-bottom: 1em;
        }
        #portada-mod2 .module-icon svg {
            width: 100px;
            height: 100px;
            fill: var(--secondary-color); /* Color principal del icono de portada */
            margin-bottom: 1em;
        }
        #portada-mod2 .brand-mention {
            margin-top: 1.5em;
            font-size: 1.1em;
            color: var(--text-color);
            opacity: 0.8;
        }


        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .pagina h2 {
            color: var(--secondary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5em;
            margin-top: 0;
            display: flex;
            align-items: center;
            font-size: 1.8em;
        }
        
        .pagina h2 svg.section-icon { /* Iconos de t√≠tulo de secci√≥n */
            width: 28px;
            height: 28px;
            margin-right: 10px;
            fill: var(--secondary-color);
        }

        .pagina h3 {
            color: var(--secondary-color);
            opacity: 0.9;
            margin-top: 1.5em;
            font-size: 1.4em;
        }
        
        .pagina h4 {
            color: var(--primary-color);
            opacity: 0.95;
            margin-top: 1.2em;
            font-size: 1.15em;
        }

        p, li {
            font-size: 1.05em;
            margin-bottom: 1em;
        }

        ul, ol {
            padding-left: 20px;
        }

        code.pbi-field { /* Para nombres de campos, slicers, etc. */
            background-color: #e0eefd; 
            color: #0b57a2;
            padding: 0.2em 0.4em;
            margin: 0 1px;
            font-size: 0.9em;
            border-radius: 3px;
            font-family: var(--code-font-family);
            border: 1px solid #c0dffd;
        }
        
        .config-fields { /* Para listas de campos de configuraci√≥n */
            background-color: #f7f7f7;
            border: 1px solid #e7e7e7;
            padding: 1em;
            border-radius: 5px;
            margin: 1em 0;
        }
        .config-fields strong {
            display: inline-block;
            min-width: 100px; /* Para alinear los nombres de los "pozos" */
        }

        pre { /* Para bloques de c√≥digo DAX si los hubiera */
            background-color: #2d2d2d; 
            color: #f2f2f2; 
            padding: 1em;
            border-radius: 5px;
            overflow-x: auto;
            font-family: var(--code-font-family);
            font-size: 0.95em;
            margin: 1em 0;
            border-left: 5px solid var(--primary-color);
        }
        
        pre code { 
            background-color: transparent;
            padding: 0;
            color: inherit;
        }
        /* (Estilos de resaltado DAX se omiten aqu√≠ si no hay c√≥digo DAX, pero se podr√≠an re-a√±adir) */


        .tip {
            background-color: #fff8e1; 
            border-left: 5px solid var(--primary-color);
            padding: 1em;
            margin: 1.5em 0;
            border-radius: 4px;
        }
        .tip strong { color: var(--primary-color); opacity: 0.8;}

        .warning {
            background-color: #fce4ec; 
            border-left: 5px solid #e91e63; 
            padding: 1em;
            margin: 1.5em 0;
            border-radius: 4px;
        }
        .warning strong { color: #c2185b; }

        /* Estilos de Quiz (iguales al m√≥dulo anterior) */
        .quiz-container { margin-top: 2em; }
        .question-block { margin-bottom: 2em; padding: 1.5em; border: 1px solid var(--border-color); border-radius: 6px; background-color: #fdfdff;}
        .question-block p { font-weight: bold; margin-bottom: 1em;}
        .options label { display: block; margin-bottom: 0.8em; padding: 0.8em; border-radius: 4px; background-color: #f0f0f0; cursor: pointer; transition: background-color 0.2s;}
        .options label:hover { background-color: #e0e0e0;}
        .options input[type="radio"] { margin-right: 10px; vertical-align: middle;}
        .feedback { padding: 0.8em; margin-top: 1em; border-radius: 4px; font-weight: bold; display: none; }
        .feedback.correct { background-color: #d4edda; color: var(--success-color); border: 1px solid #c3e6cb;}
        .feedback.incorrect { background-color: #f8d7da; color: var(--danger-color); border: 1px solid #f5c6cb;}
        #quiz-submit-btn { background-color: var(--primary-color); color: var(--secondary-color); border: none; padding: 0.8em 1.5em; font-size: 1.1em; border-radius: 5px; cursor: pointer; transition: background-color 0.3s; display: block; margin: 2em auto 0; font-weight: bold;}
        #quiz-submit-btn:hover { background-color: #e0b000; }
        #quiz-result { margin-top: 1.5em; padding: 1em; text-align: center; font-size: 1.2em; font-weight: bold; border-radius: 5px;}
        #quiz-result.success { background-color: #d4edda; color: var(--success-color); }
        #quiz-result.fail { background-color: #f8d7da; color: var(--danger-color); }

        footer {
            text-align: center;
            padding: 1.5em;
            background-color: var(--secondary-color);
            color: #adb5bd;
            margin-top: auto;
            font-size: 0.9em;
        }
        footer .brand-name {
            color: var(--primary-color);
            font-weight: bold;
        }
        
        /* Estilos de impresi√≥n (iguales, podr√≠an necesitar ajustes si el contenido es muy diferente) */
        @media print {
            body { font-size: 10pt; color: #000; background-color: #fff; }
            header, nav, footer, #quiz-submit-btn { display: none !important; } 
            main { padding: 0; max-width: 100%; box-shadow: none; }
            .pagina { display: block !important; box-shadow: none; border: none; padding: 1em 0; margin-bottom: 20px; page-break-after: always; }
            #portada-mod2 { text-align: left; page-break-after: always; } /* Ajustado ID */
            #portada-mod2 h2, #portada-mod2 h3, #portada-mod2 .brand-mention { text-align: center; }
            #portada-mod2 .module-icon svg { display: block; margin-left: auto; margin-right: auto; }
            .pagina:last-child { page-break-after: auto; }
            .pagina h2 { font-size: 16pt; border-bottom: 1px solid #ccc; color: #000; }
            .pagina h2 svg.section-icon { display: none; }
            pre { background-color: #f0f0f0; color: #000; border: 1px solid #ccc; white-space: pre-wrap; word-wrap: break-word; font-size: 9pt;}
            code.pbi-field { background-color: #eee; color: #000; border: 1px solid #ddd; padding: 1px 3px; font-size: 0.9em; }
            .tip, .warning { border-left-width: 2px; padding: 0.5em; background-color: #f9f9f9; border-color: #ccc;}
            .quiz-container .question-block { page-break-inside: avoid; }
            .options label { background-color: #fff; border: 1px solid #ccc; }
            .quiz-container .feedback { 
                display: block !important; background-color: #efefef !important; color: #000 !important; 
                border: 1px dashed #bbb !important; margin-top: 8px; padding: 6px; font-size: 9pt; font-weight: normal;
            }
            .quiz-container .feedback.correct, .quiz-container .feedback.incorrect {
                background-color: #efefef !important; border: 1px dashed #bbb !important;
            }
            .quiz-container .feedback strong { font-weight: bold; }
            a { text-decoration: none; color: #000; }
            a[href^="http"]:after, a[href^="https"]:after { content: " (" attr(href) ")"; font-size: 0.8em; }
        }
    </style>
</head>
<body>

    <header>
        <h1>
            <svg class="powerbi-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 17.27V20h2.73L17.27 9.46l-2.73-2.73L4 17.27zM6.18 18H5v-1.18l8.04-8.04 1.18 1.18L6.18 18z"/><path d="M20.71 6.73l-2.44-2.44a.996.996 0 00-1.41 0l-1.83 1.83 2.73 2.73 1.83-1.83a.996.996 0 000-1.41zM4 4h2v10H4V4zm5 3h2v7H9V7zm5-2h2v9h-2V5z"/></svg>
            Power BI Nivel Intermedio
        </h1>
    </header>

    <nav>
        <ul>
            <li><a href="#" data-target="portada-mod2" class="active-nav">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
                Portada M2</a></li>
            <li><a href="#" data-target="gauge">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12 2a10 10 0 00-7.52 16.06A10 10 0 1019.52 6.06 9.94 9.94 0 0012 2zm0 18a8 8 0 115.66-2.34A7.95 7.95 0 0112 20a8 8 0 01-5.66-13.66A8 8 0 0112 4a8 8 0 015.66 13.66A7.95 7.95 0 0112 20zm0-14a.99.99 0 00-1 .99V12a1 1 0 102 0V6.99a.99.99 0 00-1-.99zm-4.24 8.54l-.7.7a1 1 0 101.4 1.42l.7-.71a1 1 0 10-1.4-1.41zM15.53 10.2l.71-.7a1 1 0 00-1.41-1.42l-.71.71a1 1 0 101.41 1.41z"/></svg>
                Gauge</a></li>
            <li><a href="#" data-target="embudo">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 4h18v2H3V4zm2 14h14v2H5v-2zm4-7h6v2H9v-2z"/></svg>
                Embudo</a></li>
            <li><a href="#" data-target="esquema">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 15l-6 6-6-6h12zm-1.41-3.59L12 5.83l-5.59 5.58L5 10l7-7 7 7-1.41 1.41z"/></svg> <!-- Icono simple de arbol/jerarqu√≠a -->
                Esquema Jer√°rquico</a></li>
            <li><a href="#" data-target="combinada">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4h2v16H4V4zm5 8h2v8H9v-8zm5-4h2v12h-2V8zm5-3h2v15h-2V5zM4 20h16v2H4v-2z"/></svg> <!-- Icono gen√©rico de barras -->
                Gr√°f. Combinada</a></li>
            <li><a href="#" data-target="cascada">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 4h3v16h-3V4zM3 12h3v8H3v-8zm5-7h3v15H8V5zm5 3h3v12h-3V8z"/></svg>
                Cascada</a></li>
            <li><a href="#" data-target="ribbon">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.41 7.41L15 3H9L4.59 7.41A2 2 0 004 8.83V20a2 2 0 002 2h12a2 2 0 002-2V8.83a2 2 0 00-.59-1.42zM12 5.83L14.17 8H9.83L12 5.83zM18 20H6V9h2.17L10 10.17V14h4v-3.83L15.83 9H18v11z"/></svg>
                Ribbon</a></li>
            <li><a href="#" data-target="personalizacion">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.42 10.42L16.58 7.58c-.78-.78-2.05-.78-2.83 0l-1.83 1.83c-.39.39-.39 1.02 0 1.41L16.17 15c.39.39 1.02.39 1.41 0l1.83-1.83c.79-.78.79-2.05.01-2.83zM4 20h9.59l3-3H4v3zm4.41-13.59L2.83 8.83A2.001 2.001 0 002 10.24V15h4.76l2.09-2.09L4.41 6.41z"/></svg> <!-- Icono de paleta/ajustes -->
                Personalizaci√≥n</a></li>
            <li><a href="#" data-target="quiz-mod2">
                <svg class="nav-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/></svg>
                Quiz M2</a></li>
        </ul>
    </nav>

    <main>
        <section id="portada-mod2" class="pagina activa">
            <div class="module-icon">
                <!-- Icono para M√≥dulo de Gr√°ficos: Combinaci√≥n de barras y l√≠nea -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" fill-rule="evenodd" clip-rule="evenodd">
                    <path fill="#646464" d="M12 54h8V32h-8v22zm12-14h8V24h-8v16zm12 8h8V18h-8v22z"/>
                    <path stroke="#F2C811" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round" d="M8 50l10-12 8 6 10-15 12 8"/>
                    <rect x="4" y="6" width="56" height="52" rx="4" ry="4" fill="none" stroke="#646464" stroke-width="3"/>
                </svg>
            </div>
            <h2>Power BI Nivel Intermedio</h2>
            <h3>M√≥dulo II: Gr√°ficos Avanzados y Personalizaci√≥n üé®</h3>
            <p>¬°Continuamos nuestro viaje en Power BI! En este segundo m√≥dulo, explorar√°s una variedad de **gr√°ficos avanzados** para comunicar tus datos de maneras m√°s efectivas y matizadas.</p>
            <p>Adem√°s, profundizaremos en las **opciones de personalizaci√≥n** que Power BI ofrece para que tus visualizaciones no solo sean informativas, sino tambi√©n visualmente atractivas y alineadas con tus necesidades espec√≠ficas. ¬°Prep√°rate para dar vida a tus dashboards! ‚ú®</p>
            <div class="brand-mention">
                <p><strong>Reinventa Consultor√≠a y Capacitaci√≥n</strong></p>
            </div>
        </section>

        <!-- Secciones de Contenido para M√≥dulo 2 -->
        <section id="gauge" class="pagina">
            <h2>
                <svg class="section-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M12 2a10 10 0 00-7.52 16.06A10 10 0 1019.52 6.06 9.94 9.94 0 0012 2zm0 18a8 8 0 115.66-2.34A7.95 7.95 0 0112 20a8 8 0 01-5.66-13.66A8 8 0 0112 4a8 8 0 015.66 13.66A7.95 7.95 0 0112 20zm0-14a.99.99 0 00-1 .99V12a1 1 0 102 0V6.99a.99.99 0 00-1-.99zm-4.24 8.54l-.7.7a1 1 0 101.4 1.42l.7-.71a1 1 0 10-1.4-1.41zM15.53 10.2l.71-.7a1 1 0 00-1.41-1.42l-.71.71a1 1 0 101.41 1.41z"/></svg>
                Gr√°fico Gauge (Medidor) üå°Ô∏è
            </h2>
            <p>El gr√°fico Gauge, tambi√©n conocido como medidor o veloc√≠metro, se utiliza para mostrar el estado de un √∫nico indicador clave de rendimiento (KPI) en relaci√≥n con un objetivo o un rango de valores.</p>
            
            <h3>¬øCu√°ndo usarlo?</h3>
            <ul>
                <li>Para medir el progreso hacia un objetivo (ej. Ventas actuales vs. Objetivo de ventas).</li>
                <li>Para mostrar un valor dentro de un rango aceptable, de advertencia o cr√≠tico (ej. Nivel de satisfacci√≥n del cliente).</li>
                <li>Para una visualizaci√≥n r√°pida y sencilla de un KPI individual.</li>
            </ul>

            <h3>Configuraci√≥n en Power BI</h3>
            <p>Los campos principales que se configuran en un gr√°fico Gauge son:</p>
            <div class="config-fields">
                <p><strong>Valor:</strong> La medida o campo num√©rico que quieres mostrar (ej. <code class="pbi-field">SUM(Ventas[Monto])</code>).</p>
                <p><strong>Valor m√≠nimo:</strong> El l√≠mite inferior del medidor (puede ser un valor fijo o una medida).</p>
                <p><strong>Valor m√°ximo:</strong> El l√≠mite superior del medidor (puede ser un valor fijo o una medida).</p>
                <p><strong>Valor objetivo:</strong> Un valor objetivo que se marcar√° en el medidor (opcional, ej. <code class="pbi-field">ObjetivoVentas</code>).</p>
            </div>

            <h3>Consejos Clave</h3>
            <ul>
                <li><strong>Simplicidad:</strong> Es m√°s efectivo para un solo KPI. Evita sobrecargarlo.</li>
                <li><strong>Rangos de color:</strong> Utiliza los colores de los ejes de datos para definir zonas (ej. rojo, amarillo, verde) que indiquen el rendimiento.</li>
                <li><strong>Claridad del objetivo:</strong> Si usas un valor objetivo, aseg√∫rate de que sea claramente visible.</li>
                <li><strong>Contexto:</strong> Aunque muestra un solo valor, acomp√°√±alo de contexto (ej. t√≠tulo claro, per√≠odo de tiempo) para que sea interpretable.</li>
            </ul>
            <div class="tip">
                <strong>¬°Cuidado con el abuso!</strong> Un dashboard lleno de gauges puede ser abrumador y menos informativo que otros tipos de gr√°ficos que muestran tendencias o comparaciones. √ösalo con moderaci√≥n para KPIs muy importantes.
            </div>
        </section>

        <section id="embudo" class="pagina">
            <h2>
                <svg class="section-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 4h18v2H3V4zm2 14h14v2H5v-2zm4-7h6v2H9v-2z"/></svg>
                Gr√°fico de Embudo (Funnel) ‚è≥
            </h2>
            <p>El gr√°fico de embudo se utiliza para visualizar las etapas secuenciales de un proceso y la progresiva reducci√≥n o "ca√≠da" de elementos a medida que avanzan por esas etapas.</p>

            <h3>¬øCu√°ndo usarlo?</h3>
            <ul>
                <li>Para analizar procesos de ventas (ej. Prospectos > Contactados > Propuestas > Cierres).</li>
                <li>Para rastrear la conversi√≥n de usuarios en un sitio web (ej. Visitas > Registros > Compras).</li>
                <li>Para identificar cuellos de botella en un proceso.</li>
                <li>Cuando el proceso tiene etapas claras y secuenciales, y se espera una disminuci√≥n en cada paso.</li>
            </ul>

            <h3>Configuraci√≥n en Power BI</h3>
            <div class="config-fields">
                <p><strong>Grupo (o Categor√≠a):</strong> El campo que define las etapas del embudo (ej. <code class="pbi-field">'EtapasVenta'[NombreEtapa]</code>).</p>
                <p><strong>Valores:</strong> La medida o campo num√©rico que representa la cantidad en cada etapa (ej. <code class="pbi-field">COUNT(Oportunidades[ID])</code>).</p>
            </div>
            <p>Power BI calcular√° autom√°ticamente el porcentaje del total y el porcentaje de conversi√≥n de la etapa anterior.</p>

            <h3>Consejos Clave</h3>
            <ul>
                <li><strong>Orden l√≥gico:</strong> Aseg√∫rate de que las etapas est√©n ordenadas correctamente en el campo de "Grupo".</li>
                <li><strong>Claridad en las etiquetas:</strong> Muestra los valores y los porcentajes de conversi√≥n para facilitar la interpretaci√≥n.</li>
                <li><strong>An√°lisis de abandono:</strong> El principal valor del embudo es ver d√≥nde se pierden m√°s elementos.</li>
                <li><strong>Comparaciones:</strong> Puedes usar m√∫ltiples embudos (filtrados por diferentes dimensiones) para comparar el rendimiento de diferentes segmentos.</li>
            </ul>
        </section>

        <section id="esquema" class="pagina">
            <h2>
                 <svg class="section-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 15l-6 6-6-6h12zm-1.41-3.59L12 5.83l-5.59 5.58L5 10l7-7 7 7-1.41 1.41z"/></svg>
                Esquema Jer√°rquico (Decomposition Tree) üå≥
            </h2>
            <p>El esquema jer√°rquico es una visualizaci√≥n de inteligencia artificial (IA) que permite desglosar una m√©trica principal a trav√©s de m√∫ltiples dimensiones de forma jer√°rquica e interactiva. Es excelente para el an√°lisis de causa ra√≠z.</p>

            <h3>¬øCu√°ndo usarlo?</h3>
            <ul>
                <li>Para entender los factores que contribuyen a un valor alto o bajo de una m√©trica.</li>
                <li>Para realizar an√°lisis ad-hoc y explorar datos sin una estructura jer√°rquica predefinida.</li>
                <li>Para permitir a los usuarios finales explorar diferentes rutas de desglose de los datos.</li>
            </ul>

            <h3>Configuraci√≥n en Power BI</h3>
            <div class="config-fields">
                <p><strong>Analizar:</strong> La medida principal que quieres desglosar (ej. <code class="pbi-field">[Total Ingresos]</code>).</p>
                <p><strong>Explicar por:</strong> Uno o m√°s campos dimensionales que se utilizar√°n para desglosar la medida (ej. <code class="pbi-field">'Producto'[Categor√≠a]</code>, <code class="pbi-field">'Cliente'[Regi√≥n]</code>, <code class="pbi-field">'Tiempo'[A√±o]</code>).</p>
            </div>
            <p>El usuario puede hacer clic en los nodos "+" para elegir interactivamente por cu√°l de los campos de "Explicar por" desea continuar el desglose.</p>

            <h3>Consejos Clave</h3>
            <ul>
                <li><strong>Selecci√≥n de Dimensiones:</strong> Elige dimensiones relevantes y que puedan ofrecer insights al ser desglosadas.</li>
                <li><strong>Interactivo por Naturaleza:</strong> Anima a los usuarios a explorar diferentes rutas. Power BI tambi√©n puede sugerir divisiones "altas" o "bajas" basadas en IA.</li>
                <li><strong>No para dashboards est√°ticos:</strong> Su mayor valor reside en la exploraci√≥n interactiva, no tanto en una vista fija.</li>
                <li><strong>Rendimiento:</strong> Con muchas dimensiones y datos, la interactividad puede verse afectada. Considera el volumen de datos.</li>
            </ul>
        </section>

        <section id="combinada" class="pagina">
             <h2>
                <svg class="section-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 18.27V21h2.73L20.27 10.46l-2.73-2.73L7 18.27zM16.5 6L18 7.5 9.5 16H8v-1.5L16.5 6zM4 4h2v10H4V4zm15 3h2v7h-2V7zm-5-2h2v9h-2V5z"/></svg> <!-- Icono m√°s parecido a combo -->
                Gr√°fica Combinada (Combo Chart) üìäüìà
            </h2>
            <p>Una gr√°fica combinada permite mostrar dos o m√°s tipos de visualizaciones en un solo gr√°fico, compartiendo un eje com√∫n. Lo m√°s usual es combinar columnas y l√≠neas.</p>

            <h3>¬øCu√°ndo usarlo?</h3>
            <ul>
                <li>Para comparar dos medidas con diferentes escalas (ej. Ventas en columnas y % Margen en l√≠nea, usando un eje Y secundario para el margen).</li>
                <li>Para mostrar una medida principal (ej. Ventas) y una tendencia o promedio relacionado (ej. Promedio m√≥vil de ventas) como una l√≠nea.</li>
                <li>Para resaltar la relaci√≥n entre una cantidad y una tasa.</li>
            </ul>
            <p>Existen dos tipos principales en Power BI: "Gr√°fico de columnas agrupadas y de l√≠neas" y "Gr√°fico de columnas apiladas y de l√≠neas".</p>

            <h3>Configuraci√≥n en Power BI (Columnas agrupadas y l√≠neas)</h3>
            <div class="config-fields">
                <p><strong>Eje compartido:</strong> El campo categ√≥rico para el eje X (ej. <code class="pbi-field">'Tiempo'[Mes]</code>).</p>
                <p><strong>Valores de columna:</strong> La medida(s) a mostrar como columnas (ej. <code class="pbi-field">[Total Ventas]</code>).</p>
                <p><strong>Valores de l√≠nea:</strong> La medida(s) a mostrar como l√≠neas (ej. <code class="pbi-field">[% Crecimiento Ventas]</code> o <code class="pbi-field">[Objetivo de Ventas]</code>).</p>
            </div>
            <p>En el panel de formato, puedes habilitar un **eje Y secundario** para las l√≠neas si sus escalas son muy diferentes a las de las columnas.</p>

            <h3>Consejos Clave</h3>
            <ul>
                <li><strong>Evita la sobrecarga:</strong> No combines demasiadas medidas, ya que puede volverse confuso. Dos o tres suelen ser suficientes.</li>
                <li><strong>Uso del eje secundario:</strong> √ösalo con precauci√≥n y aseg√∫rate de que est√© claramente etiquetado para no inducir a error.</li>
                <li><strong>Colores y leyendas:</strong> Utiliza colores distintivos y una leyenda clara.</li>
                <li><strong>Prop√≥sito claro:</strong> La combinaci√≥n debe tener un prop√≥sito anal√≠tico claro, no solo por est√©tica.</li>
            </ul>
        </section>

        <section id="cascada" class="pagina">
            <h2>
                <svg class="section-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 4h3v16h-3V4zM3 12h3v8H3v-8zm5-7h3v15H8V5zm5 3h3v12h-3V8zM2 20h20v2H2v-2z"/></svg>
                Gr√°fico de Cascada (Waterfall) üåä
            </h2>
            <p>El gr√°fico de cascada muestra c√≥mo un valor inicial es afectado por una serie de valores intermedios positivos o negativos, resultando en un valor final. Es ideal para visualizar contribuciones o detracciones.</p>

            <h3>¬øCu√°ndo usarlo?</h3>
            <ul>
                <li>Para mostrar la composici√≥n de una ganancia o p√©rdida neta (ej. Ingresos - Costos = Beneficio).</li>
                <li>Para analizar cambios en una m√©trica a lo largo del tiempo o entre categor√≠as (ej. Saldo inicial + Entradas - Salidas = Saldo final).</li>
                <li>Para visualizar el desglose de un total en sus componentes principales.</li>
            </ul>

            <h3>Configuraci√≥n en Power BI</h3>
            <div class="config-fields">
                <p><strong>Categor√≠a:</strong> El campo que define las diferentes etapas o componentes de la cascada (ej. <code class="pbi-field">'TipoMovimiento'[Concepto]</code>).</p>
                <p><strong>Valores:</strong> La medida que representa el cambio o valor en cada categor√≠a (ej. <code class="pbi-field">[Monto Movimiento]</code>).</p>
                <p><strong>Desglose (Opcional):</strong> Puedes usar este campo para a√±adir m√°s detalle dentro de cada barra de categor√≠a (ej. si una categor√≠a es "Gastos Operativos", el desglose podr√≠a ser "Alquiler", "Salarios", etc.).</p>
            </div>
            <p>Power BI autom√°ticamente colorea los aumentos (usualmente verde) y disminuciones (usualmente rojo) y puede mostrar totales.</p>

            <h3>Consejos Clave</h3>
            <ul>
                <li><strong>Orden de categor√≠as:</strong> El orden de las categor√≠as es crucial para la narrativa del gr√°fico.</li>
                <li><strong>Subtotales:</strong> Puedes configurar ciertas barras como "Total" en el panel de formato para mostrar subtotales en puntos clave.</li>
                <li><strong>Claridad en los cambios:</strong> Aseg√∫rate de que sea f√°cil ver qu√© barras representan incrementos y cu√°les decrementos.</li>
                <li><strong>Inicio y Fin:</strong> Es com√∫n empezar con un valor total inicial y terminar con un valor total final.</li>
            </ul>
        </section>

        <section id="ribbon" class="pagina">
            <h2>
                <svg class="section-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.41 7.41L15 3H9L4.59 7.41A2 2 0 004 8.83V20a2 2 0 002 2h12a2 2 0 002-2V8.83a2 2 0 00-.59-1.42zM12 5.83L14.17 8H9.83L12 5.83zM18 20H6V9h2.17L10 10.17V14h4v-3.83L15.83 9H18v11z"/></svg>
                Gr√°fico de Cinta (Ribbon Chart) üéÄ
            </h2>
            <p>El gr√°fico de cinta es similar a un gr√°fico de columnas apiladas, pero con una caracter√≠stica distintiva: las "cintas" conectan los segmentos de las columnas a trav√©s de las categor√≠as del eje X, mostrando c√≥mo cambia el ranking o la participaci√≥n de cada serie.</p>

            <h3>¬øCu√°ndo usarlo?</h3>
            <ul>
                <li>Para visualizar c√≥mo cambia el ranking de diferentes categor√≠as (series) a lo largo del tiempo o a trav√©s de otra dimensi√≥n categ√≥rica.</li>
                <li>Para mostrar la magnitud y el cambio de ranking simult√°neamente.</li>
                <li>Cuando quieres destacar qu√© serie es la principal en cada punto del eje X y c√≥mo evoluciona esa dominancia.</li>
            </ul>

            <h3>Configuraci√≥n en Power BI</h3>
            <div class="config-fields">
                <p><strong>Eje:</strong> El campo categ√≥rico para el eje X (ej. <code class="pbi-field">'Tiempo'[MesA√±o]</code>).</p>
                <p><strong>Leyenda (Series):</strong> El campo que define las diferentes series o categor√≠as que se apilan y cuyas cintas se mostrar√°n (ej. <code class="pbi-field">'Producto'[Categor√≠aProducto]</code>).</p>
                <p><strong>Valores:</strong> La medida que determina la altura de los segmentos de columna (ej. <code class="pbi-field">[Total Ventas]</code>).</p>
            </div>

            <h3>Consejos Clave</h3>
            <ul>
                <li><strong>N√∫mero de series:</strong> Funciona mejor con un n√∫mero moderado de series (leyenda). Demasiadas series pueden hacer que las cintas sean dif√≠ciles de seguir.</li>
                <li><strong>Cambios de ranking:</strong> El principal atractivo es ver c√≥mo las cintas se cruzan, indicando cambios de ranking.</li>
                <li><strong>Interpretaci√≥n del ancho de la cinta:</strong> El ancho de la cinta en un punto del eje X representa la magnitud de esa serie en ese punto.</li>
                <li><strong>Alternativa a columnas apiladas:</strong> Considera el gr√°fico de cinta cuando la evoluci√≥n del ranking es tan importante como la magnitud.</li>
            </ul>
            <div class="tip">
                <strong>Distinguir de √Årea Apilada:</strong> Mientras un gr√°fico de √°rea apilada muestra la acumulaci√≥n total y la contribuci√≥n de cada serie, el Ribbon enfatiza el cambio de orden entre las series.
            </div>
        </section>

        <section id="personalizacion" class="pagina">
            <h2>
                <svg class="section-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.42 10.42L16.58 7.58c-.78-.78-2.05-.78-2.83 0l-1.83 1.83c-.39.39-.39 1.02 0 1.41L16.17 15c.39.39 1.02.39 1.41 0l1.83-1.83c.79-.78.79-2.05.01-2.83zM4 20h9.59l3-3H4v3zm4.41-13.59L2.83 8.83A2.001 2.001 0 002 10.24V15h4.76l2.09-2.09L4.41 6.41z"/></svg>
                Personalizaci√≥n Avanzada de Visualizaciones üñåÔ∏è‚öôÔ∏è
            </h2>
            <p>Power BI ofrece una amplia gama de opciones de personalizaci√≥n para que tus visualizaciones se ajusten exactamente a tus necesidades est√©ticas y de comunicaci√≥n. Estas opciones se encuentran principalmente en el **Panel de Formato** (el icono del rodillo de pintura üñåÔ∏è) cuando una visualizaci√≥n est√° seleccionada.</p>

            <h3>√Åreas Comunes de Personalizaci√≥n:</h3>
            <ul>
                <li>
                    <h4>General:</h4>
                    <ul>
                        <li><strong>Propiedades:</strong> Tama√±o, posici√≥n, opciones de capa (traer adelante, enviar atr√°s).</li>
                        <li><strong>T√≠tulo:</strong> Texto del t√≠tulo, fuente, color, alineaci√≥n, fondo. Es crucial tener t√≠tulos descriptivos.</li>
                        <li><strong>Efectos:</strong> Fondo (color, transparencia, imagen), Borde visual, Sombra.</li>
                        <li><strong>Encabezado del objeto visual:</strong> Iconos que aparecen al pasar el mouse (filtro, modo enfoque, etc.), personalizaci√≥n de su color y fondo.</li>
                        <li><strong>Informaci√≥n sobre herramientas (Tooltips):</strong> Personalizar la informaci√≥n que aparece al pasar el mouse sobre un punto de datos. Puedes usar la p√°gina de informe como tooltip para mostrar visualizaciones completas.</li>
                        <li><strong>Texto alternativo:</strong> Para accesibilidad.</li>
                    </ul>
                </li>
                <li>
                    <h4>Espec√≠fico del Objeto Visual:</h4> Estas opciones var√≠an mucho seg√∫n el tipo de gr√°fico.
                    <ul>
                        <li><strong>Eje X / Eje Y:</strong>
                            <ul>
                                <li>Tipo de eje (continuo, categ√≥rico).</li>
                                <li>Color, tama√±o de fuente, formato de unidades (ej. miles, millones).</li>
                                <li>T√≠tulo del eje.</li>
                                <li>L√≠neas de cuadr√≠cula.</li>
                                <li>Rango (m√≠nimo y m√°ximo, especialmente para ejes continuos).</li>
                            </ul>
                        </li>
                        <li><strong>Leyenda:</strong> Posici√≥n, t√≠tulo, color y tama√±o de fuente.</li>
                        <li><strong>Colores de datos:</strong> Asignar colores espec√≠ficos a series o categor√≠as. Puedes usar l√≥gica condicional para colorear basado en valores.</li>
                        <li><strong>Etiquetas de datos:</strong> Mostrar valores directamente en los elementos del gr√°fico, con opciones de posici√≥n, formato, color y fondo.</li>
                        <li><strong>Forma (para gr√°ficos de dispersi√≥n):</strong> Cambiar marcadores.</li>
                        <li><strong>L√≠neas (para gr√°ficos de l√≠neas):</strong> Estilo de l√≠nea (s√≥lida, discontinua), grosor, forma de uni√≥n.</li>
                        <li>Opciones espec√≠ficas del gr√°fico (ej. "Segmentos" en un gr√°fico de anillos, "Cintas" en un gr√°fico de cinta, "Sentimiento de color" en una cascada).</li>
                    </ul>
                </li>
            </ul>
            
            <h3>Temas (Themes) JSON üé®</h3>
            <p>Para una personalizaci√≥n consistente en todo el informe (o m√∫ltiples informes), puedes importar o crear **Temas de Informe**. Un tema es un archivo JSON que define colores, fuentes, propiedades de p√°gina y valores predeterminados para los objetos visuales.</p>
            <ul>
                <li>Puedes exportar el tema actual, modificar el JSON y volver a importarlo.</li>
                <li>Existen herramientas comunitarias y generadores de temas para facilitar este proceso.</li>
            </ul>

            <h3>Consejos Clave para la Personalizaci√≥n</h3>
            <ul>
                <li><strong>Consistencia:</strong> Usa colores y fuentes de manera consistente en todo el informe.</li>
                <li><strong>Claridad ante todo:</strong> La personalizaci√≥n debe mejorar la comprensi√≥n, no complicarla. Evita el "ruido visual".</li>
                <li><strong>Accesibilidad:</strong> Considera el contraste de colores y el tama√±o de las fuentes para usuarios con dificultades visuales. Usa texto alternativo.</li>
                <li><strong>Prueba en diferentes dispositivos:</strong> Aseg√∫rate de que tus personalizaciones se vean bien en diferentes tama√±os de pantalla.</li>
                <li><strong>Informaci√≥n sobre herramientas personalizada:</strong> Puede a√±adir mucho valor contextual sin saturar el gr√°fico principal.</li>
            </ul>
            <div class="warning">
                <strong>Menos es m√°s:</strong> Es f√°cil caer en la tentaci√≥n de usar demasiados colores, fuentes o efectos. Prioriza la legibilidad y el mensaje que quieres transmitir.
            </div>
        </section>

        <section id="quiz-mod2" class="pagina">
            <h2>
                <svg class="section-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"/></svg>
                Quiz Final M√≥dulo II: Gr√°ficos y Personalizaci√≥n üß†
            </h2>
            <p>¬°Demuestra tus conocimientos sobre los gr√°ficos avanzados y las opciones de personalizaci√≥n de Power BI!</p>
            <form id="quizForm-mod2">
                <div class="quiz-container">
                    <!-- Preguntas del Quiz del M√≥dulo 2 se insertar√°n aqu√≠ -->
                </div>
                <button type="button" id="quiz-submit-btn">Verificar Respuestas</button>
                <div id="quiz-result" style="display: none;"></div>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; <span id="currentYearMod2"></span> Tutorial Power BI Intermedio - M√≥dulo II. <br/> Un recurso de <span class="brand-name">Reinventa Consultor√≠a y Capacitaci√≥n</span>.</p>
    </footer>

    <script>
        // SPA Navigation
        const navLinksMod2 = document.querySelectorAll('nav a'); // Asegurar selectores √∫nicos si es necesario
        const pagesMod2 = document.querySelectorAll('main .pagina'); // Contenedor de p√°ginas del m√≥dulo actual

        navLinksMod2.forEach(link => {
            link.addEventListener('click', (event) => {
                event.preventDefault();
                const targetId = link.getAttribute('data-target');

                pagesMod2.forEach(page => {
                    page.classList.remove('activa');
                    if (page.id === targetId) {
                        page.classList.add('activa');
                    }
                });

                navLinksMod2.forEach(navLink => navLink.classList.remove('active-nav'));
                link.classList.add('active-nav');
                
                window.scrollTo({ top: document.querySelector('main').offsetTop - 20, behavior: 'smooth' });
            });
        });

        document.getElementById('currentYearMod2').textContent = new Date().getFullYear();

        // Quiz Data and Logic for Module 2
        const quizDataMod2 = [
            {
                question: "¬øCu√°l es el prop√≥sito principal de un gr√°fico de Embudo (Funnel Chart) en Power BI?",
                options: [
                    "A) Comparar el rendimiento de m√∫ltiples KPIs individuales contra sus objetivos.",
                    "B) Mostrar la distribuci√≥n de una m√©trica a lo largo de diferentes categor√≠as jer√°rquicas.",
                    "C) Visualizar la progresiva reducci√≥n de elementos a trav√©s de etapas secuenciales de un proceso.",
                    "D) Indicar el cambio de ranking de diferentes series a lo largo de un eje categ√≥rico."
                ],
                answer: "C)",
                explanation: "El gr√°fico de embudo es ideal para mostrar c√≥mo las cantidades disminuyen a medida que pasan por las distintas fases de un proceso, como un embudo de ventas o un proceso de conversi√≥n web."
            },
            {
                question: "En un Gr√°fico Combinado (Combo Chart), ¬øcu√°ndo es m√°s apropiado utilizar un eje Y secundario?",
                options: [
                    "A) Siempre que se utilicen m√°s de dos medidas en el gr√°fico.",
                    "B) Cuando se quiere mostrar una l√≠nea de tendencia para los valores de columna.",
                    "C) Cuando las escalas de las medidas representadas como columnas y l√≠neas son significativamente diferentes.",
                    "D) Para a√±adir una tercera dimensi√≥n categ√≥rica al gr√°fico."
                ],
                answer: "C)",
                explanation: "Un eje Y secundario es √∫til en gr√°ficos combinados cuando las medidas tienen escalas muy dispares (ej. ventas en millones y porcentaje de margen). Esto permite que ambas series sean legibles sin que una eclipse a la otra."
            },
            {
                question: "¬øQu√© caracter√≠stica distintiva ofrece un Gr√°fico de Cinta (Ribbon Chart) en comparaci√≥n con un gr√°fico de columnas apiladas est√°ndar?",
                options: [
                    "A) Permite mostrar valores negativos y positivos en la misma columna.",
                    "B) Visualiza c√≥mo cambia el ranking de las series (leyenda) entre las categor√≠as del eje X.",
                    "C) Es m√°s adecuado para mostrar la composici√≥n porcentual de un total.",
                    "D) Soporta la adici√≥n de m√∫ltiples l√≠neas de tendencia y pron√≥sticos."
                ],
                answer: "B)",
                explanation: "La principal ventaja del gr√°fico de cinta es que las 'cintas' conectan los segmentos, mostrando claramente c√≥mo el ranking de cada serie (elemento de la leyenda) cambia a trav√©s del eje X, adem√°s de su magnitud."
            },
            {
                question: "Est√°s analizando las causas de una ca√≠da en las ventas. Quieres explorar interactivamente c√≥mo diferentes dimensiones (Producto, Regi√≥n, Canal) contribuyen a la m√©trica 'Ventas'. ¬øQu√© visualizaci√≥n de Power BI ser√≠a la m√°s adecuada para este an√°lisis de causa ra√≠z ad-hoc?",
                options: [
                    "A) Gr√°fico de Cascada (Waterfall Chart)",
                    "B) Gr√°fico Gauge (Medidor)",
                    "C) Esquema Jer√°rquico (Decomposition Tree)",
                    "D) Gr√°fico de Dispersi√≥n (Scatter Chart)"
                ],
                answer: "C)",
                explanation: "El Esquema Jer√°rquico est√° dise√±ado espec√≠ficamente para el an√°lisis de causa ra√≠z, permitiendo desglosar interactivamente una m√©trica principal ('Analizar') por m√∫ltiples dimensiones ('Explicar por') para entender las contribuciones."
            },
            {
                question: "Para asegurar una personalizaci√≥n visual consistente (colores, fuentes, tama√±os) a lo largo de todas las p√°ginas de un informe de Power BI, ¬øcu√°l es la pr√°ctica m√°s eficiente?",
                options: [
                    "A) Aplicar manualmente el formato a cada objeto visual en cada p√°gina.",
                    "B) Usar la opci√≥n 'Copiar formato' para replicar estilos entre visualizaciones similares.",
                    "C) Crear y aplicar un Tema de Informe (JSON) personalizado.",
                    "D) Ajustar las opciones de 'Cuadr√≠cula y ajuste a objetos' en la configuraci√≥n de p√°gina."
                ],
                answer: "C)",
                explanation: "Los Temas de Informe (archivos .json) permiten definir un conjunto de opciones de formato (colores, fuentes, propiedades de objetos visuales, etc.) que se aplican globalmente a todo el informe, asegurando consistencia y ahorrando tiempo."
            }
        ];

        const quizFormMod2 = document.getElementById('quizForm-mod2'); // Espec√≠fico para el M√≥dulo 2
        const quizContainerMod2 = quizFormMod2.querySelector('.quiz-container');
        const submitButtonMod2 = quizFormMod2.querySelector('#quiz-submit-btn'); // Asumimos que el ID es √∫nico o se ajusta
        const quizResultDivMod2 = quizFormMod2.querySelector('#quiz-result'); // Asumimos que el ID es √∫nico o se ajusta

        function renderQuizMod2() {
            let quizHTML = '';
            quizDataMod2.forEach((q, index) => {
                quizHTML += `
                    <div class="question-block" id="q2-${index}"> <!-- Prefijo para IDs -->
                        <p>${index + 1}. ${q.question}</p>
                        <div class="options">
                `;
                q.options.forEach(optionText => {
                    const optionValue = optionText.substring(0, optionText.indexOf(')') + 1);
                    quizHTML += `
                        <label>
                            <input type="radio" name="q2-${index}" value="${optionValue}"> 
                            ${optionText}
                        </label>
                    `;
                });
                quizHTML += `
                        </div>
                        <div class="feedback" id="fdbk2-${index}">
                           <strong>Explicaci√≥n:</strong> ${q.explanation}
                        </div>
                    </div>
                `;
            });
            quizContainerMod2.innerHTML = quizHTML;
        }
        
        if (quizContainerMod2) { // Solo renderizar si el contenedor existe
            renderQuizMod2();

            quizDataMod2.forEach((q, index) => {
                const radioButtons = quizFormMod2.querySelectorAll(`input[name="q2-${index}"]`);
                const feedbackDiv = quizFormMod2.querySelector(`#fdbk2-${index}`);
                
                radioButtons.forEach(radio => {
                    radio.addEventListener('change', () => {
                        feedbackDiv.style.display = 'none';
                        feedbackDiv.classList.remove('correct', 'incorrect');
                        radioButtons.forEach(rb => rb.disabled = true);

                        document.querySelectorAll(`input[name="q2-${index}"]`).forEach(rb => {
                            rb.parentElement.style.backgroundColor = '#f0f0f0';
                            rb.parentElement.style.border = 'none';
                        });

                        if (radio.value === q.answer ) {
                            feedbackDiv.classList.add('correct');
                            radio.parentElement.style.backgroundColor = '#d4edda';
                            radio.parentElement.style.border = '2px solid var(--success-color)';
                        } else {
                            feedbackDiv.classList.add('incorrect');
                            radio.parentElement.style.backgroundColor = '#f8d7da';
                            radio.parentElement.style.border = '2px solid var(--danger-color)';
                            radioButtons.forEach(rb => {
                                if (rb.value === q.answer) {
                                    rb.parentElement.style.backgroundColor = '#d4edda';
                                    rb.parentElement.style.fontWeight = 'bold';
                                }
                            });
                        }
                        feedbackDiv.style.display = 'block';
                    });
                });
            });

            if (submitButtonMod2) {
                submitButtonMod2.addEventListener('click', () => {
                    let score = 0;
                    quizDataMod2.forEach((q, index) => {
                        const selectedOption = quizFormMod2.querySelector(`input[name="q2-${index}"]:checked`);
                        const feedbackDiv = quizFormMod2.querySelector(`#fdbk2-${index}`);
                        
                        if (selectedOption) {
                            if (selectedOption.value === q.answer) {
                                score++;
                            }
                        }
                        if (feedbackDiv && feedbackDiv.style.display !== 'block'){ // Verificar feedbackDiv
                             feedbackDiv.style.display = 'block';
                        }
                    });

                    if(quizResultDivMod2){ // Verificar quizResultDivMod2
                        quizResultDivMod2.innerHTML = `Has acertado ${score} de ${quizDataMod2.length} preguntas.`;
                        quizResultDivMod2.style.display = 'block';
                        if (score >= quizDataMod2.length * 0.6) { 
                            quizResultDivMod2.className = 'success';
                        } else {
                            quizResultDivMod2.className = 'fail';
                        }
                    }
                    // submitButtonMod2.style.display = 'none'; // Opcional
                });
            }
        }

    </script>
</body>
</html>